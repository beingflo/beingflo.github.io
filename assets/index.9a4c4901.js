const pt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};pt();const k={};function yt(e){k.context=e}const wt=(e,t)=>e===t,H=Symbol("solid-proxy"),Ve=Symbol("solid-track"),oe={equals:wt};let Ge=tt;const K={},M=1,le=2,Je={owned:null,cleanups:null,context:null,owner:null};var A=null;let te=null,v=null,G=null,x=null,N=null,be=0;function re(e,t){const n=v,s=A,i=e.length===0?Je:{owned:null,cleanups:null,context:null,owner:t||s};A=i,v=null;try{return ve(()=>e(()=>Ae(i)),!0)}finally{v=n,A=s}}function E(e,t){t=t?Object.assign({},oe,t):oe;const n={value:e,observers:null,observerSlots:null,pending:K,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.pending!==K?n.pending:n.value)),Se(n,i));return[et.bind(n),s]}function mt(e,t,n){const s=fe(e,t,!0,M);X(s)}function O(e,t,n){const s=fe(e,t,!1,M);X(s)}function bt(e,t,n){Ge=jt;const s=fe(e,t,!1,M);s.user=!0,N?N.push(s):X(s)}function Y(e,t,n){n=n?Object.assign({},oe,n):oe;const s=fe(e,t,!0,0);return s.pending=K,s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,X(s),et.bind(s)}function Ye(e){if(G)return e();let t;const n=G=[];try{t=e()}finally{G=null}return ve(()=>{for(let s=0;s<n.length;s+=1){const i=n[s];if(i.pending!==K){const r=i.pending;i.pending=K,Se(i,r)}}},!1),t}function ne(e){let t,n=v;return v=null,t=e(),v=n,t}function Z(e){return A===null||(A.cleanups===null?A.cleanups=[e]:A.cleanups.push(e)),e}function Ze(){return v}function St(e){const t=Symbol("context");return{id:t,Provider:Pt(t),defaultValue:e}}function vt(e){let t;return(t=it(A,e.id))!==void 0?t:e.defaultValue}function At(e){const t=Y(e);return Y(()=>ge(t()))}function et(){const e=te;if(this.sources&&(this.state||e)){const t=x;x=null,this.state===M||e?X(this):ce(this),x=t}if(v){const t=this.observers?this.observers.length:0;v.sources?(v.sources.push(this),v.sourceSlots.push(t)):(v.sources=[this],v.sourceSlots=[t]),this.observers?(this.observers.push(v),this.observerSlots.push(v.sources.length-1)):(this.observers=[v],this.observerSlots=[v.sources.length-1])}return this.value}function Se(e,t,n){if(G)return e.pending===K&&G.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let s=!1;return e.value=t,e.observers&&e.observers.length&&ve(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i];s&&te.disposed.has(r),(s&&!r.tState||!s&&!r.state)&&(r.pure?x.push(r):N.push(r),r.observers&&nt(r)),s||(r.state=M)}if(x.length>1e6)throw x=[],new Error},!1),t}function X(e){if(!e.fn)return;Ae(e);const t=A,n=v,s=be;v=A=e,xt(e,e.value,s),v=n,A=t}function xt(e,t,n){let s;try{s=e.fn(t)}catch(i){st(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?Se(e,s):e.value=s,e.updatedAt=n)}function fe(e,t,n,s=M,i){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:A,context:null,pure:n};return A===null||A!==Je&&(A.owned?A.owned.push(r):A.owned=[r]),r}function J(e){const t=te;if(e.state===0||t)return;if(e.state===le||t)return ce(e);if(e.suspense&&ne(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<be);)(e.state||t)&&n.push(e);for(let s=n.length-1;s>=0;s--)if(e=n[s],e.state===M||t)X(e);else if(e.state===le||t){const i=x;x=null,ce(e,n[0]),x=i}}function ve(e,t){if(x)return e();let n=!1;t||(x=[]),N?n=!0:N=[],be++;try{const s=e();return $t(n),s}catch(s){st(s)}finally{x=null,n||(N=null)}}function $t(e){x&&(tt(x),x=null),!e&&(N.length?Ye(()=>{Ge(N),N=null}):N=null)}function tt(e){for(let t=0;t<e.length;t++)J(e[t])}function jt(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:J(i)}k.context&&yt();const s=e.length;for(t=0;t<n;t++)J(e[t]);for(t=s;t<e.length;t++)J(e[t])}function ce(e,t){const n=te;e.state=0;for(let s=0;s<e.sources.length;s+=1){const i=e.sources[s];i.sources&&(i.state===M||n?i!==t&&J(i):(i.state===le||n)&&ce(i,t))}}function nt(e){const t=te;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(!s.state||t)&&(s.state=le,s.pure?x.push(s):N.push(s),s.observers&&nt(s))}}function Ae(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),o=n.observerSlots.pop();s<i.length&&(r.sourceSlots[o]=s,i[s]=r,n.observerSlots[s]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)Ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function st(e){throw e}function it(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:it(e.owner,t):void 0}function ge(e){if(typeof e=="function"&&!e.length)return ge(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=ge(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function Pt(e){return function(n){let s;return mt(()=>s=ne(()=>(A.context={[e]:n.value},At(()=>n.children)))),s}}const _t=Symbol("fallback");function Me(e){for(let t=0;t<e.length;t++)e[t]()}function Et(e,t,n={}){let s=[],i=[],r=[],o=0,l=t.length>1?[]:null;return Z(()=>Me(r)),()=>{let a=e()||[],u,c;return a[Ve],ne(()=>{let h=a.length,f,d,w,$,_,m,j,p,P;if(h===0)o!==0&&(Me(r),r=[],s=[],i=[],o=0,l&&(l=[])),n.fallback&&(s=[_t],i[0]=re(I=>(r[0]=I,n.fallback())),o=1);else if(o===0){for(i=new Array(h),c=0;c<h;c++)s[c]=a[c],i[c]=re(y);o=h}else{for(w=new Array(h),$=new Array(h),l&&(_=new Array(h)),m=0,j=Math.min(o,h);m<j&&s[m]===a[m];m++);for(j=o-1,p=h-1;j>=m&&p>=m&&s[j]===a[p];j--,p--)w[p]=i[j],$[p]=r[j],l&&(_[p]=l[j]);for(f=new Map,d=new Array(p+1),c=p;c>=m;c--)P=a[c],u=f.get(P),d[c]=u===void 0?-1:u,f.set(P,c);for(u=m;u<=j;u++)P=s[u],c=f.get(P),c!==void 0&&c!==-1?(w[c]=i[u],$[c]=r[u],l&&(_[c]=l[u]),c=d[c],f.set(P,c)):r[u]();for(c=m;c<h;c++)c in w?(i[c]=w[c],r[c]=$[c],l&&(l[c]=_[c],l[c](c))):i[c]=re(y);i=i.slice(0,o=h),s=a.slice(0)}return i});function y(h){if(r[c]=h,l){const[f,d]=E(c);return l[c]=d,t(a[c],f)}return t(a[c])}}}function g(e,t){return ne(()=>e(t||{}))}function pe(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Y(Et(()=>e.each,e.children,t||void 0))}function D(e){let t=!1;const n=Y(()=>e.when,void 0,{equals:(s,i)=>t?s===i:!s==!i});return Y(()=>{const s=n();if(s){const i=e.children;return(t=typeof i=="function"&&i.length>0)?ne(()=>i(s)):i}return e.fallback})}const Ct=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Nt=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ct]),kt=new Set(["innerHTML","textContent","innerText","children"]),Tt={className:"class",htmlFor:"for"},Ie={class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"},Lt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ot={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Mt(e,t,n){let s=n.length,i=t.length,r=s,o=0,l=0,a=t[i-1].nextSibling,u=null;for(;o<i||l<r;){if(t[o]===n[l]){o++,l++;continue}for(;t[i-1]===n[r-1];)i--,r--;if(i===o){const c=r<s?l?n[l-1].nextSibling:n[r-l]:a;for(;l<r;)e.insertBefore(n[l++],c)}else if(r===l)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[l]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--r],c),t[i]=n[r]}else{if(!u){u=new Map;let y=l;for(;y<r;)u.set(n[y],y++)}const c=u.get(t[o]);if(c!=null)if(l<c&&c<r){let y=o,h=1,f;for(;++y<i&&y<r&&!((f=u.get(t[y]))==null||f!==c+h);)h++;if(h>c-l){const d=t[o];for(;l<c;)e.insertBefore(n[l++],d)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const qe="_$DX_DELEGATE";function It(e,t,n){let s;return re(i=>{s=i,t===document?e():b(t,e(),t.firstChild?null:void 0,n)}),()=>{s(),t.textContent=""}}function C(e,t,n){const s=document.createElement("template");s.innerHTML=e;let i=s.content.firstChild;return n&&(i=i.firstChild),i}function se(e,t=window.document){const n=t[qe]||(t[qe]=new Set);for(let s=0,i=e.length;s<i;s++){const r=e[s];n.has(r)||(n.add(r),t.addEventListener(r,Xt))}}function qt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Dt(e,t,n,s){s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s)}function xe(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ht(e,t,n,s){s?Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n:Array.isArray(n)?e.addEventListener(t,i=>n[0](n[1],i)):e.addEventListener(t,n)}function Kt(e,t,n={}){const s=Object.keys(t||{}),i=Object.keys(n);let r,o;for(r=0,o=i.length;r<o;r++){const l=i[r];!l||l==="undefined"||t[l]||(De(e,l,!1),delete n[l])}for(r=0,o=s.length;r<o;r++){const l=s[r],a=!!t[l];!l||l==="undefined"||n[l]===a||!a||(De(e,l,!0),n[l]=a)}return n}function Rt(e,t,n={}){const s=e.style,i=typeof n=="string";if(t==null&&i||typeof t=="string")return s.cssText=t;i&&(s.cssText=void 0,n={}),t||(t={});let r,o;for(o in n)t[o]==null&&s.removeProperty(o),delete n[o];for(o in t)r=t[o],r!==n[o]&&(s.setProperty(o,r),n[o]=r);return n}function Ut(e,t,n,s){typeof t=="function"?O(i=>Ke(e,t(),i,n,s)):Ke(e,t,void 0,n,s)}function b(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return R(e,t,s,n);O(i=>R(e,t(),i,n),s)}function zt(e,t,n,s,i={},r=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;He(e,o,null,i[o],n,r)}for(const o in t){if(o==="children"){s||R(e,t.children);continue}const l=t[o];i[o]=He(e,o,l,i[o],n,r)}}function Bt(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function De(e,t,n){const s=t.trim().split(/\s+/);for(let i=0,r=s.length;i<r;i++)e.classList.toggle(s[i],n)}function He(e,t,n,s,i,r){let o,l,a;if(t==="style")return Rt(e,n,s);if(t==="classList")return Kt(e,n,s);if(n===s)return s;if(t==="ref")r||n(e);else if(t.slice(0,3)==="on:")e.addEventListener(t.slice(3),n);else if(t.slice(0,10)==="oncapture:")e.addEventListener(t.slice(10),n,!0);else if(t.slice(0,2)==="on"){const u=t.slice(2).toLowerCase(),c=Lt.has(u);Ht(e,u,n,c),c&&se([u])}else if((a=kt.has(t))||!i&&(Ie[t]||(l=Nt.has(t)))||(o=e.nodeName.includes("-")))t==="class"||t==="className"?xe(e,n):o&&!l&&!a?e[Bt(t)]=n:e[Ie[t]||t]=n;else{const u=i&&t.indexOf(":")>-1&&Ot[t.split(":")[0]];u?Dt(e,u,t,n):qt(e,Tt[t]||t,n)}return n}function Xt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),k.registry&&!k.done&&(k.done=!0,document.querySelectorAll("[id^=pl-]").forEach(s=>s.remove()));n!==null;){const s=n[t];if(s&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?s(i,e):s(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Ke(e,t,n={},s,i){return t||(t={}),!i&&"children"in t&&O(()=>n.children=R(e,t.children,n.children)),t.ref&&t.ref(e),O(()=>zt(e,t,s,!0,n,!0)),n}function R(e,t,n,s,i){for(k.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(k.context)return n;if(r==="number"&&(t=t.toString()),o){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=q(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(k.context)return n;n=q(e,n,s)}else{if(r==="function")return O(()=>{let l=t();for(;typeof l=="function";)l=l();n=R(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[];if(ye(l,t,i))return O(()=>n=R(e,l,n,s,!0)),()=>n;if(k.context){for(let a=0;a<l.length;a++)if(l[a].parentNode)return n=l}if(l.length===0){if(n=q(e,n,s),o)return n}else Array.isArray(n)?n.length===0?Re(e,l,s):Mt(e,n,l):(n&&q(e),Re(e,l));n=l}else if(t instanceof Node){if(k.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=q(e,n,s,t);q(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ye(e,t,n){let s=!1;for(let i=0,r=t.length;i<r;i++){let o=t[i],l;if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))s=ye(e,o)||s;else if((l=typeof o)=="string")e.push(document.createTextNode(o));else if(l==="function")if(n){for(;typeof o=="function";)o=o();s=ye(e,Array.isArray(o)?o:[o])||s}else e.push(o),s=!0;else e.push(document.createTextNode(o.toString()))}return s}function Re(e,t,n){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function q(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const a=l.parentNode===e;!r&&!o?a?e.replaceChild(i,l):e.insertBefore(i,n):a&&l.remove()}else r=!0}}else e.insertBefore(i,n);return[i]}const $e=Symbol("store-raw"),ae=Symbol("store-node"),Qt=Symbol("store-name");function rt(e,t){let n=e[H];if(!n){Object.defineProperty(e,H,{value:n=new Proxy(e,Vt)});const s=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let r=0,o=s.length;r<o;r++){const l=s[r];if(i[l].get){const a=i[l].get.bind(n);Object.defineProperty(e,l,{get:a})}}}return n}function U(e){return e!=null&&typeof e=="object"&&(e[H]||!e.__proto__||e.__proto__===Object.prototype||Array.isArray(e))}function z(e,t=new Set){let n,s,i,r;if(n=e!=null&&e[$e])return n;if(!U(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,l=e.length;o<l;o++)i=e[o],(s=z(i,t))!==i&&(e[o]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let a=0,u=o.length;a<u;a++)r=o[a],!l[r].get&&(i=e[r],(s=z(i,t))!==i&&(e[r]=s))}return e}function je(e){let t=e[ae];return t||Object.defineProperty(e,ae,{value:t={}}),t}function we(e,t,n){return e[t]||(e[t]=lt(n,!0))}function Wt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===H||t===ae||t===Qt||(delete n.value,delete n.writable,n.get=()=>e[H][t]),n}function ot(e){if(Ze()){const t=je(e);(t._||(t._=lt()))()}}function Ft(e){return ot(e),Reflect.ownKeys(e)}function lt(e,t){const[n,s]=E(e,t?{internal:!0}:{equals:!1,internal:!0});return n.$=s,n}const Vt={get(e,t,n){if(t===$e)return e;if(t===H)return n;if(t===Ve)return ot(e);const s=je(e),i=s[t];let r=i?s[t]():e[t];if(t===ae||t==="__proto__")return r;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);Ze()&&(typeof r!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(r=we(s,t,r)())}return U(r)?rt(r):r},set(){return!0},deleteProperty(){return!0},ownKeys:Ft,getOwnPropertyDescriptor:Wt};function B(e,t,n){if(e[t]===n)return;const s=e[t],i=e.length;n===void 0?delete e[t]:e[t]=n;let r=je(e),o;(o=we(r,t,s))&&o.$(()=>n),Array.isArray(e)&&e.length!==i&&(o=we(r,"length",i))&&o.$(e.length),(o=r._)&&o.$()}function ct(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const i=n[s];B(e,i,t[i])}}function Gt(e,t){if(typeof t=="function"&&(t=t(e)),t=z(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const i=t[n];e[n]!==i&&B(e,n,i)}B(e,"length",s)}else ct(e,t)}function V(e,t,n=[]){let s,i=e;if(t.length>1){s=t.shift();const o=typeof s,l=Array.isArray(e);if(Array.isArray(s)){for(let a=0;a<s.length;a++)V(e,[s[a]].concat(t),n);return}else if(l&&o==="function"){for(let a=0;a<e.length;a++)s(e[a],a)&&V(e,[a].concat(t),n);return}else if(l&&o==="object"){const{from:a=0,to:u=e.length-1,by:c=1}=s;for(let y=a;y<=u;y+=c)V(e,[y].concat(t),n);return}else if(t.length>1){V(e[s],t,[s].concat(n));return}i=e[s],n=[s].concat(n)}let r=t[0];typeof r=="function"&&(r=r(i,n),r===i)||s===void 0&&r==null||(r=z(r),s===void 0||U(i)&&U(r)&&!Array.isArray(r)?ct(i,r):B(e,s,r))}function Jt(e,t){const n=z(e||{}),s=Array.isArray(n),i=rt(n);function r(...o){Ye(()=>{s&&o.length===1?Gt(n,o[0]):V(n,o)})}return[i,r]}const ue=new WeakMap,at={get(e,t){if(t===$e)return e;const n=e[t];let s;return U(n)?ue.get(n)||(ue.set(n,s=new Proxy(n,at)),s):n},set(e,t,n){return B(e,t,z(n)),!0},deleteProperty(e,t){return B(e,t,void 0),!0}};function ie(e){return t=>{if(U(t)){let n;(n=ue.get(t))||ue.set(t,n=new Proxy(t,at)),e(n)}return t}}const ee=e=>t=>{t.target.tagName!=="INPUT"&&(t.preventDefault(),e())},Ue=()=>crypto.randomUUID(),ut="store",ft=St({}),ze=localStorage.getItem(ut),[T,L]=Jt(ze?JSON.parse(ze):{version:0});function Yt(e){bt(()=>localStorage.setItem(ut,JSON.stringify(T)));const t=[T,{toggleView(){L({view:!T.view})},setSelectedProject(n){L({selectedProject:n})},setS3Config(n){L({s3:n})},changeSelectedProject(n){L(ie(s=>{const i=s.projectList.findIndex(l=>l.id===s.selectedProject),r=n==="UP"?-1:1;let o=i;do o=o+r,o<0&&(o=s.projectList.length-1),o>=s.projectList.length&&(o=0);while(s.projectList[o].deleted);s.selectedProject=s.projectList[o].id}))},newProject(n){const s=Ue();return L({projectList:[...T.projectList??[],{id:s,created_at:Date.now(),deleted:!1}],projectMap:{...T.projectMap,[s]:{id:s,name:n,version:0,created_at:Date.now(),quests:[]}},version:T.version+1}),s},deleteProject(n){L(ie(s=>{const i=s.projectList.find(r=>r.id===n);i.deleted=!0,delete s.projectMap[n],s.version=s.version+1}))},addQuest(n){!T.selectedProject||!T.projectMap[T.selectedProject]||L(ie(s=>{s.projectMap[s.selectedProject].version+=1,s.projectMap[s.selectedProject].quests.push({id:Ue(),name:n,created_at:Date.now()}),s.version=s.version+1}))},completeQuest(n){L(ie(s=>{Object.entries(s.projectMap).map(([i,r])=>{const o=r.quests.find(l=>l.id===n);o&&(o.complete=!0,s.projectMap[i].version+=1)}),s.version=s.version+1}))}}];return g(ft.Provider,{value:t,get children(){return e.children}})}function Q(){return vt(ft)}const Zt=C('<div class="group flex flex-row gap-1 items-baseline"><div></div><div class="hidden group-hover:block text-xs text-gray-600 hover:cursor-pointer">Del</div></div>'),en=e=>{const[t,{setSelectedProject:n,deleteProject:s}]=Q(),i=()=>{n(e.project.id)};return(()=>{const r=Zt.cloneNode(!0),o=r.firstChild,l=o.nextSibling;return o.$$click=i,b(o,()=>e.project.name||"unnamed"),l.$$click=()=>s(e.project.id),O(()=>xe(o,`truncate cursor-pointer ${t.selectedProject===e.project.id&&"underline"}`)),r})()};se(["click"]);var tn=["Shift","Meta","Alt","Control"],nn=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Control";function de(e,t){return typeof e.getModifierState=="function"&&e.getModifierState(t)}function sn(e){return e.trim().split(" ").map(function(t){var n=t.split(/\b\+/),s=n.pop();return[n=n.map(function(i){return i==="$mod"?nn:i}),s]})}function rn(e,t){var n;t===void 0&&(t={});var s=(n=t.timeout)!=null?n:1e3,i=Object.keys(e).map(function(l){return[sn(l),e[l]]}),r=new Map,o=null;return function(l){l instanceof KeyboardEvent&&(i.forEach(function(a){var u=a[0],c=a[1],y=r.get(u)||u;(function(h,f){return!(f[1].toUpperCase()!==h.key.toUpperCase()&&f[1]!==h.code||f[0].find(function(d){return!de(h,d)})||tn.find(function(d){return!f[0].includes(d)&&f[1]!==d&&de(h,d)}))})(l,y[0])?y.length>1?r.set(u,y.slice(1)):(r.delete(u),c(l)):de(l,l.key)||r.delete(u)}),o&&clearTimeout(o),o=setTimeout(r.clear.bind(r),s))}}function Pe(e,t,n){var s;n===void 0&&(n={});var i=(s=n.event)!=null?s:"keydown",r=rn(t,n);return e.addEventListener(i,r),function(){e.removeEventListener(i,r)}}const on=C('<form><input class="rounded-sm focus:outline-none" type="text"></form>'),ln=C('<div class="w-1/5 h-screen p-4 flex overflow-y-scroll"><div class="my-auto w-full"></div></div>'),cn=()=>{const[e,{newProject:t,setSelectedProject:n,changeSelectedProject:s}]=Q(),[i,r]=E(!1),[o,l]=E("");let a;const c=Pe(window,{p:ee(()=>{r(!0),a?.focus()}),Escape:()=>r(!1),ArrowUp:()=>s("UP"),ArrowDown:()=>s("DOWN")});Z(c);const y=f=>{f?.preventDefault();const d=t(o());r(!1),n(d)},h=()=>e.projectList?.filter(f=>!f.deleted)??[];return(()=>{const f=ln.cloneNode(!0),d=f.firstChild;return b(d,g(pe,{get each(){return h()},children:w=>g(en,{get project(){return{...e.projectMap[w.id],id:w.id}}})}),null),b(d,g(D,{get when(){return i()},get children(){const w=on.cloneNode(!0),$=w.firstChild;w.addEventListener("submit",y),$.$$input=m=>l(m?.currentTarget.value);const _=a;return typeof _=="function"?_($):a=$,w}}),null),f})()};se(["input"]);const an=C('<div class="group flex flex-row gap-1 items-baseline"><div></div></div>'),Be=e=>{const[,{completeQuest:t}]=Q(),n=()=>{t(e.quest.id)};return(()=>{const s=an.cloneNode(!0),i=s.firstChild;return i.$$click=n,b(i,()=>e.quest.name||"unnamed"),O(()=>xe(i,`truncate cursor-pointer ${e.quest.complete&&"invisible"}`)),s})()};se(["click"]);const un=C('<form class="w-full"><input class="w-full rounded-sm focus:outline-none" type="text"></form>'),fn=C('<div class="w-full pt-4"><div class="grid grid-cols-4 gap-1"></div></div>'),dn=C('<div class="w-full"><div class="mx-auto w-96 py-4"></div></div>'),hn=()=>{const[e,{addQuest:t,toggleView:n}]=Q(),[s,i]=E(!1),[r,o]=E("");let l;const u=Pe(window,{n:ee(()=>{i(!0),l?.focus()}),Escape:()=>i(!1),v:ee(n)});Z(u);const c=f=>{f?.preventDefault(),t(r()),i(!1)},y=()=>(()=>{const f=un.cloneNode(!0),d=f.firstChild;f.addEventListener("submit",c),d.$$input=$=>o($?.currentTarget.value);const w=l;return typeof w=="function"?w(d):l=d,f})(),h=()=>{const f=e.projectMap[e.selectedProject];return f?e.view?f?.quests?.filter(d=>!d.complete)??[]:f?.quests??[]:[]};return g(D,{get when(){return!e.view},get fallback(){return(()=>{const f=dn.cloneNode(!0),d=f.firstChild;return b(d,g(pe,{get each(){return h()},children:w=>g(Be,{quest:w})}),null),b(d,g(D,{get when(){return s()},get children(){return g(y,{})}}),null),f})()},get children(){const f=fn.cloneNode(!0),d=f.firstChild;return b(d,g(pe,{get each(){return h()},children:w=>g(Be,{quest:w})}),null),b(d,g(D,{get when(){return s()},get children(){return g(y,{})}}),null),f}})};se(["input"]);const gn=C('<svg width="1600" height="1600" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg"><path d="M650.4 727.2c-26.398 0-52.801-6-79.199-19.199-58.801-28.801-93.602-81.602-91.199-136.8 7.2-123.6 104.4-205.2 192-205.2 56.398 0 166.8-42 177.6-122.4 4.8-39.602-18-72-44.398-82.801-9.602-3.602-13.199-14.398-9.602-24 3.602-9.602 14.398-13.199 24-9.602 37.2 15.602 73.2 60 66 121.2-8.398 60-52.8 97.2-88.8 117.6-38.399 21.602-87.603 36-124.8 36-69.603 0-150 70.801-156 171.6-2.399 49.2 34.8 85.2 70.8 102 48 22.801 99.602 19.2 132-9.601 7.2-6 19.2-6 25.2 1.199s6 19.199-1.2 25.199c-25.199 22.801-57.602 34.801-92.402 34.801z"></path><path d="M685.2 1105.2h-97.199c-9.602 0-18-8.398-18-18v-87.602c0-27.602-22.801-50.398-50.398-50.398-50.398 0-91.199 40.801-91.199 91.199v48c0 9.602-8.398 18-18 18h-159.6c-9.602 0-16.801-7.2-18-15.602 0-4.8-51.602-440.4 260.4-492 9.602-1.2 19.199 4.8 20.398 14.398 1.2 9.602-4.8 19.199-14.398 20.398-246 42-237.6 361.2-231.6 436.8h124.8v-30c0-69.602 56.398-127.2 127.2-127.2 48 0 86.398 38.398 86.398 86.398v69.602h70.801c38.398-52.801 273.6-391.2 266.4-655.2-6-180-91.199-236.4-140.4-254.4-9.602-3.602-14.398-13.199-10.801-22.801 3.602-9.602 13.199-14.398 22.801-10.801 58.801 20.398 159.6 85.199 165.6 286.8 3.602 126-42 279.6-135.6 456-69.602 130.8-141.6 226.8-141.6 228-7.195 4.805-11.996 8.402-17.996 8.402z"></path><path d="M738 500.4c6-1.2 9.602-7.2 8.398-13.199-2.398-12 4.801-25.199 16.801-27.602 12-2.398 25.2 4.8 27.602 16.801 1.2 6 7.2 9.602 13.2 8.398 6-1.199 9.601-7.199 8.398-13.199-6-25.199-30-40.8-55.2-34.8s-40.8 30-34.8 55.198C726 498.001 732 501.603 738 500.4z"></path></svg>');var pn=(e={})=>(()=>{const t=gn.cloneNode(!0);return Ut(t,e,!0,!0),t})();const yn=C('<div class="flex flex-row justify-between mb-4"><p class="font-bold"></p><p class="italic"></p></div>'),wn=C(`<div class="max-w-md mt-12 mx-auto"><div class="flex flex-row gap-4 items-center"><h1 class="text-2xl font-bold tracking-tight">rest.quest</h1></div><p class="mt-4 mb-20">A minimalistic, opinionated todo list application.</p><p class="mt-20">You're already in the application, press <b>h</b> to close the help screen!</p></div>`),mn=()=>{const e=t=>(()=>{const n=yn.cloneNode(!0),s=n.firstChild,i=s.nextSibling;return b(s,()=>t.left),b(i,()=>t.right),n})();return(()=>{const t=wn.cloneNode(!0),n=t.firstChild,s=n.firstChild,i=n.nextSibling,r=i.nextSibling;return b(n,g(pn,{class:"w-12 h-12"}),s),b(t,g(e,{left:"p",right:"New project"}),r),b(t,g(e,{left:"n",right:"New quest in the current project"}),r),b(t,g(e,{left:"click on quest",right:"Check off quest"}),r),b(t,g(e,{left:"h",right:"Toggle help"}),r),b(t,g(e,{left:"c",right:"Toggle configuration"}),r),b(t,g(e,{left:"v",right:"Toggle view of quests"}),r),b(t,g(e,{left:"arrow up",right:"Select previous project"}),r),b(t,g(e,{left:"arrow down",right:"Select next project"}),r),t})()},bn=C(`<div class="max-w-md mt-12 mx-auto"><form class="grid grid-cols-1 gap-6"><label class="block"><span class="text-sm text-gray-700">S3 Endpoint</span><input type="text" class="focus:outline-none mt-0 block w-full border-0 border-b-2 border-gray-200 px-0.5 placeholder-gray-400 focus:border-gray-400 focus:ring-0" placeholder="Enter an S3 endpoint"></label><label class="block"><span class="text-sm text-gray-700">S3 Region</span><input type="text" class="focus:outline-none mt-0 block w-full border-0 border-b-2 border-gray-200 px-0.5 placeholder-gray-400 focus:border-gray-400 focus:ring-0" placeholder="Enter an S3 endpoint"></label><label class="block"><span class="text-sm text-gray-700">API Access Key</span><input type="password" class="focus:outline-none mt-0 block w-full border-0 border-b-2 border-gray-200 px-0.5 placeholder-gray-400 focus:border-gray-400 focus:ring-0" placeholder="Enter the API access key"></label><label class="block"><span class="text-sm text-gray-700">API Secret Key</span><input type="password" class="focus:outline-none mt-0 block w-full border-0 border-b-2 border-gray-200 px-0.5 placeholder-gray-400 focus:border-gray-400 focus:ring-0" placeholder="Enter the API secret key"></label><label class="block"><span class="text-sm text-gray-700">Encryption secret (optional)</span><input type="password" class="focus:outline-none mt-0 block w-full border-0 border-b-2 border-gray-200 px-0.5 placeholder-gray-400 focus:border-gray-400 focus:ring-0" placeholder="Enter a secret phrase"></label><button type="submit" class="mt-8 rounded-sm bg-white border border-black py-2
                    uppercase text-black hover:bg-gray-100
                    hover:shadow-none focus:outline-none"><div class="relative"><span>Save</span></div></button></form></div>`),Sn=()=>{const[e,{setS3Config:t}]=Q(),[n,s]=E(e?.s3?.endpoint),[i,r]=E(e?.s3?.region),[o,l]=E(e?.s3?.apiKey),[a,u]=E(e?.s3?.apiSecretKey),[c,y]=E(e?.s3?.secret),h=f=>{f.preventDefault(),t({endpoint:n(),region:i(),apiKey:o(),apiSecretKey:a(),secret:c()})};return(()=>{const f=bn.cloneNode(!0),d=f.firstChild,w=d.firstChild,$=w.firstChild,_=$.nextSibling,m=w.nextSibling,j=m.firstChild,p=j.nextSibling,P=m.nextSibling,I=P.firstChild,W=I.nextSibling,_e=P.nextSibling,dt=_e.firstChild,Ee=dt.nextSibling,ht=_e.nextSibling,gt=ht.firstChild,Ce=gt.nextSibling;return d.addEventListener("submit",h),_.addEventListener("change",S=>s(S?.currentTarget?.value)),p.addEventListener("change",S=>r(S?.currentTarget?.value)),W.addEventListener("change",S=>l(S?.currentTarget?.value)),Ee.addEventListener("change",S=>u(S?.currentTarget?.value)),Ce.addEventListener("change",S=>y(S?.currentTarget?.value)),O(S=>{const Ne=n(),ke=i(),Te=o(),Le=a(),Oe=c();return Ne!==S._v$&&(_.value=S._v$=Ne),ke!==S._v$2&&(p.value=S._v$2=ke),Te!==S._v$3&&(W.value=S._v$3=Te),Le!==S._v$4&&(Ee.value=S._v$4=Le),Oe!==S._v$5&&(Ce.value=S._v$5=Oe),S},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),f})()};/**
 * @license MIT <https://opensource.org/licenses/MIT>
 * @copyright Michael Hart 2018
 */const me=new TextEncoder,vn={appstream2:"appstream",cloudhsmv2:"cloudhsm",email:"ses",marketplace:"aws-marketplace",mobile:"AWSMobileHubService",pinpoint:"mobiletargeting",queue:"sqs","git-codecommit":"codecommit","mturk-requester-sandbox":"mturk-requester","personalize-runtime":"personalize"},An=["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id","range","connection"];class xn{constructor({accessKeyId:t,secretAccessKey:n,sessionToken:s,service:i,region:r,cache:o,retries:l,initRetryMs:a}){if(t==null)throw new TypeError("accessKeyId is a required option");if(n==null)throw new TypeError("secretAccessKey is a required option");this.accessKeyId=t,this.secretAccessKey=n,this.sessionToken=s,this.service=i,this.region=r,this.cache=o||new Map,this.retries=l??10,this.initRetryMs=a||50}async sign(t,n){if(t instanceof Request){const{method:r,url:o,headers:l,body:a}=t;n=Object.assign({method:r,url:o,headers:l},n),n.body==null&&l.has("Content-Type")&&(n.body=a!=null&&l.has("X-Amz-Content-Sha256")?a:await t.clone().arrayBuffer()),t=o}const s=new $n(Object.assign({url:t},n,this,n&&n.aws)),i=Object.assign({},n,await s.sign());return delete i.aws,new Request(i.url.toString(),i)}async fetch(t,n){for(let s=0;s<=this.retries;s++){const i=fetch(await this.sign(t,n));if(s===this.retries)return i;const r=await i;if(r.status<500&&r.status!==429)return r;await new Promise(o=>setTimeout(o,Math.random()*this.initRetryMs*Math.pow(2,s)))}throw new Error("An unknown error occurred, ensure retries is not negative")}}class $n{constructor({method:t,url:n,headers:s,body:i,accessKeyId:r,secretAccessKey:o,sessionToken:l,service:a,region:u,cache:c,datetime:y,signQuery:h,appendSessionToken:f,allHeaders:d,singleEncode:w}){if(n==null)throw new TypeError("url is a required option");if(r==null)throw new TypeError("accessKeyId is a required option");if(o==null)throw new TypeError("secretAccessKey is a required option");this.method=t||(i?"POST":"GET"),this.url=new URL(n),this.headers=new Headers(s||{}),this.body=i,this.accessKeyId=r,this.secretAccessKey=o,this.sessionToken=l;let $,_;(!a||!u)&&([$,_]=jn(this.url,this.headers)),this.service=a||$||"",this.region=u||_||"us-east-1",this.cache=c||new Map,this.datetime=y||new Date().toISOString().replace(/[:-]|\.\d{3}/g,""),this.signQuery=h,this.appendSessionToken=f||this.service==="iotdevicegateway",this.headers.delete("Host");const m=this.signQuery?this.url.searchParams:this.headers;if(this.service==="s3"&&!this.headers.has("X-Amz-Content-Sha256")&&this.headers.set("X-Amz-Content-Sha256","UNSIGNED-PAYLOAD"),m.set("X-Amz-Date",this.datetime),this.sessionToken&&!this.appendSessionToken&&m.set("X-Amz-Security-Token",this.sessionToken),this.signableHeaders=["host",...this.headers.keys()].filter(p=>d||!An.includes(p)).sort(),this.signedHeaders=this.signableHeaders.join(";"),this.canonicalHeaders=this.signableHeaders.map(p=>p+":"+(p==="host"?this.url.host:(this.headers.get(p)||"").replace(/\s+/g," "))).join(`
`),this.credentialString=[this.datetime.slice(0,8),this.region,this.service,"aws4_request"].join("/"),this.signQuery&&(this.service==="s3"&&!m.has("X-Amz-Expires")&&m.set("X-Amz-Expires","86400"),m.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),m.set("X-Amz-Credential",this.accessKeyId+"/"+this.credentialString),m.set("X-Amz-SignedHeaders",this.signedHeaders)),this.service==="s3")try{this.encodedPath=decodeURIComponent(this.url.pathname.replace(/\+/g," "))}catch{this.encodedPath=this.url.pathname}else this.encodedPath=this.url.pathname.replace(/\/+/g,"/");w||(this.encodedPath=encodeURIComponent(this.encodedPath).replace(/%2F/g,"/")),this.encodedPath=Qe(this.encodedPath);const j=new Set;this.encodedSearch=[...this.url.searchParams].filter(([p])=>{if(!p)return!1;if(this.service==="s3"){if(j.has(p))return!1;j.add(p)}return!0}).map(p=>p.map(P=>Qe(encodeURIComponent(P)))).sort(([p,P],[I,W])=>p<I?-1:p>I?1:P<W?-1:P>W?1:0).map(p=>p.join("=")).join("&")}async sign(){return this.signQuery?(this.url.searchParams.set("X-Amz-Signature",await this.signature()),this.sessionToken&&this.appendSessionToken&&this.url.searchParams.set("X-Amz-Security-Token",this.sessionToken)):this.headers.set("Authorization",await this.authHeader()),{method:this.method,url:this.url,headers:this.headers,body:this.body}}async authHeader(){return["AWS4-HMAC-SHA256 Credential="+this.accessKeyId+"/"+this.credentialString,"SignedHeaders="+this.signedHeaders,"Signature="+await this.signature()].join(", ")}async signature(){const t=this.datetime.slice(0,8),n=[this.secretAccessKey,t,this.region,this.service].join();let s=this.cache.get(n);if(!s){const i=await F("AWS4"+this.secretAccessKey,t),r=await F(i,this.region),o=await F(r,this.service);s=await F(o,"aws4_request"),this.cache.set(n,s)}return he(await F(s,await this.stringToSign()))}async stringToSign(){return["AWS4-HMAC-SHA256",this.datetime,this.credentialString,he(await Xe(await this.canonicalString()))].join(`
`)}async canonicalString(){return[this.method.toUpperCase(),this.encodedPath,this.encodedSearch,this.canonicalHeaders+`
`,this.signedHeaders,await this.hexBodyHash()].join(`
`)}async hexBodyHash(){let t=this.headers.get("X-Amz-Content-Sha256");if(t==null){if(this.body&&typeof this.body!="string"&&!("byteLength"in this.body))throw new Error("body must be a string, ArrayBuffer or ArrayBufferView, unless you include the X-Amz-Content-Sha256 header");t=he(await Xe(this.body||""))}return t}}async function F(e,t){const n=await crypto.subtle.importKey("raw",typeof e=="string"?me.encode(e):e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return crypto.subtle.sign("HMAC",n,me.encode(t))}async function Xe(e){return crypto.subtle.digest("SHA-256",typeof e=="string"?me.encode(e):e)}function he(e){return Array.prototype.map.call(new Uint8Array(e),t=>("0"+t.toString(16)).slice(-2)).join("")}function Qe(e){return e.replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())}function jn(e,t){const{hostname:n,pathname:s}=e,i=n.replace("dualstack.","").match(/([^.]+)\.(?:([^.]*)\.)?amazonaws\.com(?:\.cn)?$/);let[r,o]=(i||["",""]).slice(1,3);if(o==="us-gov")o="us-gov-west-1";else if(o==="s3"||o==="s3-accelerate")o="us-east-1",r="s3";else if(r==="iot")n.startsWith("iot.")?r="execute-api":n.startsWith("data.jobs.iot.")?r="iot-jobs-data":r=s==="/mqtt"?"iotdevicegateway":"iotdata";else if(r==="autoscaling"){const l=(t.get("X-Amz-Target")||"").split(".")[0];l==="AnyScaleFrontendService"?r="application-autoscaling":l==="AnyScaleScalingPlannerFrontendService"&&(r="autoscaling-plans")}else o==null&&r.startsWith("s3-")?(o=r.slice(3).replace(/^fips-|^external-1/,""),r="s3"):r.endsWith("-fips")?r=r.slice(0,-5):o&&/-\d$/.test(r)&&!/-\d$/.test(o)&&([r,o]=[o,r]);return[vn[r]||r,o]}const We="index.json",Fe="state.json",Pn=async e=>{if(!e?.s3){console.info("No credentials for syncing");return}const t=new xn({accessKeyId:e?.s3?.apiKey,secretAccessKey:e?.s3?.apiSecretKey,service:"s3",region:e?.s3?.region}),n=await t.fetch(`${e?.s3?.endpoint}${We}`,{method:"GET"}),s=n.status===200?await n.json():[];if(e.version>=s.version||!s.version)console.info("Sync local state"),await t.fetch(`${e?.s3?.endpoint}${We}`,{method:"PUT",body:JSON.stringify({version:e.version})}),await t.fetch(`${e?.s3?.endpoint}${Fe}`,{method:"PUT",body:JSON.stringify({projectList:e.projectList,projectMap:e.projectMap})});else{console.info("Sync remote state");const i=await t.fetch(`${e?.s3?.endpoint}${Fe}`,{method:"GET"}),r=i.status===200?await i.json():{};L({...r,version:s.version,selectedProject:e.selectedProject})}},_n=C('<div class="flex flex-row"></div>'),En=()=>{const[e,{newProject:t,setSelectedProject:n,addQuest:s}]=Q(),[i,r]=E(!!e.projectList),[o,l]=E(!1),a=()=>{Pn(e)};document.addEventListener("visibilitychange",a),Z(()=>document.removeEventListener("visibilitychange",a));const u=Pe(window,{h:ee(()=>r(!i())),c:ee(()=>l(!o()))});if(Z(u),!e.projectList){const c=t("Get started");n(c),s("Open help again with h"),s("Add a new quest"),s("Check off the quest"),s("Add a new project"),s("Switch between projects"),s("Delete a project")}return g(D,{get when(){return i()},get fallback(){return g(mn,{})},get children(){return g(D,{get when(){return!o()},get fallback(){return g(Sn,{})},get children(){const c=_n.cloneNode(!0);return b(c,g(cn,{}),null),b(c,g(hn,{}),null),c}})}})},Cn=()=>g(Yt,{get children(){return g(En,{})}});It(()=>g(Cn,{}),document.getElementById("root"));
